# どこに置いたっけ？持ち物ロケーター 技術仕様書

## 1. システムアーキテクチャ

### 1.1 全体構成
- フロントエンドのみのSPA（Single Page Application）
- PWA（Progressive Web App）対応
- オフライン対応
- ローカルストレージベースのデータ管理

### 1.2 技術スタック
- HTML5
- CSS3
- JavaScript (ES6+)
- Service Worker
- Web App Manifest
- Local Storage API

## 2. 機能詳細仕様

### 2.1 アイテム管理機能

#### 2.1.1 収納場所の階層構造
```
リビング
├── 本棚
│   ├── 1段目
│   ├── 2段目
│   └── 3段目
├── テレビ台
│   ├── 引き出し1
│   └── 引き出し2
└── 収納ボックス
    ├── 衣類
    └── 小物
```

#### 2.1.2 アイテム登録フロー
1. 親カテゴリ選択/作成
2. 詳細位置入力
3. アイテム情報入力
   - 必須項目：アイテム名、詳細位置
   - 任意項目：メモ
4. 登録完了

#### 2.1.3 データ検証
- アイテム名：1-50文字
- メモ：0-200文字
- 親カテゴリ：1-30文字
- 詳細位置：1-30文字

### 2.2 検索機能

#### 2.2.1 検索アルゴリズム
- 前方一致
- 部分一致
- 大文字小文字区別なし
- スペース区切りでの複数キーワード対応

#### 2.2.2 検索対象
- アイテム名
- メモ内容
- 収納場所

#### 2.2.3 検索結果表示
- リアルタイム更新
- ハイライト表示
- 階層構造での表示
- 結果件数表示

### 2.3 データ管理

#### 2.3.1 ローカルストレージ構造
```javascript
{
  'locations': {
    // 収納場所情報
  },
  'items': [
    // アイテム情報の配列
  ],
  'history': [
    // 操作履歴の配列
  ]
}
```

#### 2.3.2 データバックアップ
- JSON形式でのエクスポート
- インポート時のデータ検証
- バックアップファイルの暗号化

### 2.4 共有機能

#### 2.4.1 QRコード仕様
- サイズ：200x200px
- エラー訂正レベル：M
- データ形式：JSON
- 有効期限：なし

#### 2.4.2 SNSシェア
- Twitter
  - 文字数制限：280文字
  - ハッシュタグ自動付与
- LINE
  - プレビュー表示
  - カスタムメッセージ
- Facebook
  - OGP対応
  - カスタムメッセージ

## 3. UI/UX仕様

### 3.1 レスポンシブデザイン
- ブレイクポイント
  - モバイル：〜767px
  - タブレット：768px〜1023px
  - デスクトップ：1024px〜

### 3.2 カラースキーム
```css
:root {
  --primary-color: #4A90E2;
  --secondary-color: #357ABD;
  --background-color: #f5f7fa;
  --text-color: #333333;
  --border-color: #e0e6ed;
  --success-color: #28a745;
  --warning-color: #ffc107;
  --error-color: #dc3545;
}
```

### 3.3 アニメーション
- トランジション時間：0.3秒
- イージング：ease-in-out
- ホバーエフェクト
- ローディングアニメーション

## 4. PWA仕様

### 4.1 Service Worker
- キャッシュ戦略：Network First
- キャッシュ対象
  - HTML
  - CSS
  - JavaScript
  - 画像
  - フォント

### 4.2 Web App Manifest
- 表示モード：standalone
- 向き：portrait
- スプラッシュスクリーン
- アイコンサイズ
  - 192x192
  - 512x512

## 5. パフォーマンス要件

### 5.1 読み込み時間
- First Contentful Paint: 1.5秒以内
- Time to Interactive: 3秒以内
- Largest Contentful Paint: 2.5秒以内

### 5.2 メモリ使用量
- ローカルストレージ：5MB以内
- メモリリーク対策
- ガベージコレクション最適化

## 6. セキュリティ要件

### 6.1 データ保護
- ローカルストレージの暗号化
- XSS対策
- CSRF対策

### 6.2 プライバシー
- 個人情報の非収集
- アクセス解析の匿名化
- クッキーポリシー

## 7. テスト仕様

### 7.1 単体テスト
- ユニットテスト
- コンポーネントテスト
- ユーティリティテスト

### 7.2 E2Eテスト
- ユーザーフロー
- エラー処理
- レスポンシブ対応

## 8. デプロイメント

### 8.1 ビルドプロセス
- コード最適化
- アセット圧縮
- ソースマップ生成

### 8.2 デプロイフロー
1. テスト実行
2. ビルド
3. デプロイ
4. 動作確認

## 9. メンテナンス

### 9.1 バージョン管理
- セマンティックバージョニング
- 変更履歴管理
- ロールバック手順

### 9.2 監視
- エラーログ
- パフォーマンスモニタリング
- ユーザーフィードバック 